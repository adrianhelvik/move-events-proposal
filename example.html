<!doctype html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <pre id="log"></pre>
  <div id="div">
    Hello there
  </div>
  <script type="module">
    import { polyfill } from './src/index.js'

    polyfill()

    div.moveHandler = class Move {
      onStart(event) {
        event.preventDefault()
        this.snapshot = document.createSnapshot(this.element)
        this.snapshot.place({
          x: event.clientX - event.insetX,
          y: event.clientY - event.insetY,
        })
      }

      onMove(event) {
        console.log(event)
        this.snapshot.move({
          x: event.clientX - event.insetX,
          y: event.clientY - event.insetY,
        })
      }

      onEnd(event) {
        console.log('end', event)
        this.snapshot.remove()
      }
    }

  </script>
</body>
